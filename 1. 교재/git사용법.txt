##git 프로그램 설치
git-scm.com
설치여부 확인:git --version

##로컬저장소(내PC)
##원격저장소(https://github.com/)

##로컬저장소에 작업한 내용을 원격저장소에 업로드
원격저장소 업로드는 이유 : 공유/파일백업

##목표
1)내PC에서 작업한 이클립스 프로젝트를 로컬저장소에 저장 후 원격저장소에 업로드
2)팀원들간의 프로젝트를 공유하여 merge(합치는) 위한 방법 확인

#위의 목표를 달성하기 위한 방법
1)기초 git 명령 사용법 익히기
2)이클립스에 연동방법 확인
3)meger 할 때의 문제점 확인

## 작업 디렉토리 만들기(로컬저장소)
mkdir test
cd test
git init : .git디렉토리 생성(dir /a)
git status : git상태확인
notepad Main.java :임의의파일 생성
git add Main.java
git commit -m "v1.0" Main.java : 오류발생 원인(환경설
정)
git config --global --list : 환경설정확인
git config --global user.name "계정명"
git config --global user.email "이메일주소"
다시 commit명령을 실행
git log : commit한 파일을 확인하는 명령
esc -> :q (enter) : git log이후 외부로 빠져나오는 방법
git branch : 현재의 가지(위치)를 확인하는 명령

참고)git rm --cached 파일명 :
위의명령은 트랙에서 내리는 명령과 함께 commit한 파일도 내리는 역할을 한다.
rmdir /S test : test 디렉토리를 완전히 삭제하는 명령
git branch : 나뭇가지라고 생각(예:main branch가 메인가지(주관리개발자), branch를 하나 추가해서 (서브개발자 개발) -서브개발자가 개발한 프로그램을 합치경우 다시 main브런치로 합치는 방식)
참고사항)환경변수 삭제방법
git config --global --unset user.name
git config --global --unset user.email
- git cofig global설정을 모두 삭제하는 명령
git config --global --unset-all

- .git폴더를 삭제하는 방법(숨김파일)
숨김파일 확인 : dir /a or dir /ah
하위디렉토리를 포함하여 삭제:rmdir /S .git

--------------------------
#로컬저장소에 있는 내용을 원격저장소에 저장하기 위한 방법
https://github.com/ 저장소 생성

git branch  

git branch -M main : main branch일 경우 미실행해도 됨.(master -> main변경)

git remote add origin https://github.com/계정/test.git  : 원격저장소 등록, 저장소의 이름을 origin
git remote -v

git push -u origin main: 로컬저장소 ->원격저장소로 업로드, local저장소 브런치 main, 원격저장소 이름(브런치) orgin

업로드 후 인증을 해야하며 github.com에 로그인이 되어 있으면 인증성공메시지가 나타나고 업로됨.

--------------------------------------
clone을 이용하여 원격저장소에 있는 내용을 로컬저장소로 생성
cd ..
rmdir /S test
git clone https://github.com/xxxxxx/test.git
dir /a : .git이 포함되어 있는지 확인

----------------------------
원격저장소 확인 
git remote -v
git fetch origin main : 원격저장소에서 로컬저장소로 설정사항
git pull origin main : 원격저장소에서 로컬저장소로 merge등을 포함하여 실행
-------------------------------------
github.com모든 파일을 업로드 하기 위한 방법
git add . : 로컬저장소 모든 파일 stage에 업로드
git commit -a -m "v1.0" : 모든파일을 업로드
브런치는 자동등록되지만 git branch로 확인, 리모트 등록, push
-------------------------------------
두개의 파일을 비교하는 명령
cd test
git log
git diff 4527a6aa0417bcd1104260347d2ee9fa85147e53 fbd08b68150a6e42bfc968c496c11c47b67fdf17
git diff 4527a fbd08
git diff 4527 fbd0
git diff 452 fbd : 오류발생 4자리까지 가능

git log
git diff HEAD HEAD^^ : 현재 파일과 이전 이전 파일(^^)
git diff HEAD^^ HEAD : 이전이전파일과 현재파일 비교

내용 비교하기(diff)
git branch
git branch sub1 : sub1 branch생성
git branch : 아직 HEAD가 변경 되어 있지 않음
git checkout sub1  :sub1 브런치로 이동
git branch
notepad SubMain.java
git status
git add .
git commit -a -m "sub v1.0"
git log
git checkout main : main 브런치로 이동
git log
git pull : 업데이터
git merge sub1 : main 브런치의 내용으로 sub1브런치로 합하기
git branch -r : 리모트 브런치 확인
git push origin main : 원격 업로드하기
git branch -d sub1 : 브런치 삭제하기
doskey /history : 이전 명령 확인하기
----------------------
#fetch와 pull의 차이
fetch는 내용을 가져오지만 실제 적용은 안됨
pull은 내용을 가져오면서 적용까지 됨

git fetch origin : txt파일 확인하면 적용안됨
git log main..origin/main
git diff main origin/main : 두 문서를 비교
git merge origin/main : 원격컴퓨터(origin/main)의 내용을 원격저장소의 내용과 합칩

git pull origin main : 위의사항 모두 적용

#pull에서 충돌이 발생할 수 있음
이를 해결하기 위한 방법
git stash
git pull origin main
git stash list
git stash apply
git stash pop :적용 + stash에서 제거
특정 stash복구 방법
git stash apply stash@{1}
# 또는
git stash pop stash@{1}
git stash branch feature/temp stash@{0}
git reflog stash
git stash -u

#충돌 실습하기
로컬저장소에 test.txt파일을 작성하고
내용을  test입력
원격저장소에 업로드
원격저장소에 test.txt파일에 test1내용을 추가
원격저장소에서 적용한 파일을 로컬저장소에 적용하는 방법

1)로컬저장소 생성
mkdir test
cd test
git init
2)원격저장소 생성

3)로컬저장소에 test.txt파일생성하고 test내용입력
copy con test.txt
test
ctrl+c

4)로컬저장소에 test.txt파일 업로드
git add .
git commit -m "test.txt" test.txt

5)로컬저장소에 원격저장소를 등록 및 업로드
git remote add origin https://github.com/woogi7942/test.git
git push -u origin main

6)원격저장소에 test.txt파일에 test2 내용추가

7)로컬저장소에서 원격에서 수정한 내용처리
#fetch(내용은 가지고 오지만 변경x)
#origin/main은 원격저장소(origin의 main branch를 의미)
#merge : fetch한 내용을 실제 파일에 적용
git fetch origin
git log main..origin/main
git diff main origin/main : 두 문서를 비교
git merge origin/main

8)원격저장소에 readme.md파일을 생성하고 내용입력(7)의 내용을 한번에 처리)
git pull origin main

9)pull을 할 경우 충돌이 발생하는 경우
#로컬저장소 test.txt파일에 test3내용을 입력
git add .
git commit -m "test3추가" test.txt

#원격저장소 test.txt파일에 test4내용을 입력

#로컬저장소에서 push
git push origin main : reject 에러

#로컬저장소에서 pull
git pull origin main :conflicts 에러

##로컬저장소에서 충돌난 파일을 열어보기
파일을 수정처리 하고 저장
test
test2
<<<<<<< HEAD (라인삭제)
test3
=======(라인삭제)
test4
>>>>>>> 9079f8db19fe8dedfd3ba(라인삭제)

##로컬저장소에 저장한 파일을 push
git add .
git commit -m "conflict처리" 
git push origin main
---------------------
이클립스에서 git사용하기
실습사항
이클립스에서 데이터 변경(파일생성)하고 commit and push

다른 폴더에서 clone을 실행하여 저장소 생성

브런치 작성

merge처리

------------------------------------------
##pull request로 프로젝트 합치기
1)github에 javaprj생성
2)여러명의 사용자가 나의 원격저장소를 사용할 경우 사용자 추가
settings-collaborators/add people 눌러서 이메일 추가
이메일을 확인하면 pendding상태가 없어져야함
3)각자 계정에서 token을 생성
user-settings-developer settings-personl access tokens-ss token class-generator new token을 눌러 모든 설정체크
4)기본프로젝트를 생성하고 프로젝트를 git으로 공유
팀장은 이클립스에서 javaprj를 생성한 후 Main.java파일 생성
프로젝트 우측클릭- team- share project
로컬저장소 생성
5)github 플러그인에서 remotes등록
remotes-우측클릭-create remote
origin name을 create한후에 change버튼 클릭 url/user/password(token)등록
save
6)Main.java파일을 src에서 생성하고 프로젝트 모든 파일을 업로드
git plugin-git staging-(++)-f5(새로고침)-commit and push
7) github에서 파일업로드 확인

8)팀원들은 github에 업로드된 기본 프로젝트를 복사
팀원은 이클립스의 workspace폴더에서 cmd를 열고
git clone git주소입력
이클립스에 import시킴

9)개발자1이 개발을 시작
main->dev1 브런치를 생성->dev1브런치를 chechout(더블클릭)
dev1 생성 후 개발을 시작
이클립스에서 branchs-local에 생성된 브런치를 더블클릭하면 head브런치가 변경됨
gpt)git에서 rebase와 merge차이점

github에 dev1브런치가 생성
dev1에서 개발한 내용을 pull request진행을 하면 dev1->main합쳐짐

source: refs/heads/*
destinamtion:refs/remotes/origin/*

참고)master인 경우 기본 브런치 변경
git config --global init.defaultBranch main

dev2개발자는 origin의 main을 fetch를 통해서 merge(pull)
github plugin에서 최상위 저장소에서 우측클릭-remote-fetch from
source ref:HEAD
destination of : refs/remotes/orgin/main (force update check)

ref/heads/*
refs/remotes/origin/*
+ref/heads/*:refs/remotes/origin/*

branches-local-main브런치를 선택/merge/
remote tracking에서 orgin/main선택-merge버튼 클릭

개발자2에서
local-main브런치를 dev2로 생성
Main.java내용에 System.out.println("개발자2"); 코드 입력
pull request요청

github에서는 dev2브런치 생성
dev2를 pull request처리

개발자1은
github main 개발자2가 pull request 합침

원격브런치
refs/heads/브랜치명

로컬브런치
refs/remotes/리모트이름/브랜치명


























